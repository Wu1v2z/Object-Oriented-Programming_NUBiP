#include <iostream>
#include <cmath> // Для std::sqrt, якщо знадобиться, але тут не потрібен, лише для демонстрації

using namespace std;

/**
 * @brief Клас, що представляє фігуру "Пісочний годинник".
 *
 * Фігура складається з двох трикутників, з'єднаних вершинами.
 * Її розміри: основа (a) і загальна висота (b).
 * Площа S = (a * b) / 2.
 */
class Sandglass {
private:
    double a; // Основа
    double b; // Висота

public:
    // Конструктор за замовчуванням (вимога b)
    Sandglass() : a(0.0), b(0.0) {}

    // Конструктор з параметрами (вимога b)
    Sandglass(double base, double height) : a(base), b(height) {
        if (a < 0) a = 0; // Запобігаємо від'ємним розмірам
        if (b < 0) b = 0;
    }

    // --- Методи доступу (Getter/Setter) (вимога c) ---

    // Отримати значення 'a'
    double getA() const {
        return a;
    }

    // Отримати значення 'b'
    double getB() const {
        return b;
    }

    // Присвоїти значення 'a'
    void setA(double newA) {
        a = (newA >= 0) ? newA : 0;
    }

    // Присвоїти значення 'b'
    void setB(double newB) {
        b = (newB >= 0) ? newB : 0;
    }

    // --- Обчислення площі (вимога c) ---

    // Обчислює та повертає площу фігури S = (a * b) / 2
    double calculateArea() const {
        return (a * b) / 2.0;
    }

    // --- Перевантаження операторів ---

    // Перевантаження бінарного оператора '+' (вимога e)
    // Створює нову фігуру з параметрами (a1 + a2, b1 + b2)
    Sandglass operator+(const Sandglass& op2) const {
        // Операнд op1 передається неявно через this [cite: 78, 81]
        // Операнд op2 передається явно [cite: 83]
        double new_a = a + op2.a;
        double new_b = b + op2.b;
        return Sandglass(new_a, new_b); // Повертає новий об'єкт [cite: 86]
    }

    // Перевантаження префіксного оператора '++' (вимога g та 3)
    // Збільшує 'a' і 'b' на одиницю, повертає змінений об'єкт (*this) [cite: 256, 261]
    Sandglass& operator++() {
        // Явний параметр відсутній, операція виконується над об'єктом,
        // який викликав функцію (через this) [cite: 99, 100]
        a++;
        b++;
        return *this; // Повертає посилання на модифікований об'єкт
    }

    // Перевантаження постфіксного оператора '++' (вимога g та 3)
    // Параметр 'int' використовується для розрізнення префіксної і постфіксної форм 
    Sandglass operator++(int notused) {
        Sandglass temp = *this; // Збереження вихідного значення 
        a++;                    // Інкремент
        b++;                    // Інкремент
        return temp;            // Повернення початкового значення 
    }

    // Оголошення дружньої функції для перевантаження оператора '<<' (вимога d та 4)
    // Для виводу (як і для введення >>) оператор, як правило,
    // перевантажують як дружню функцію, що не є членом класу[cite: 102, 103, 270].
    friend ostream& operator<<(ostream& os, const Sandglass& obj);
};

// Визначення дружньої функції для перевантаження оператора '<<'
ostream& operator<<(ostream& os, const Sandglass& obj) {
    // Виводить значення a, b та площі фігури (вимога d)
    os << "Фігура 'Пісочний годинник':" << endl;
    os << "  Основа (a): " << obj.a << endl;
    os << "  Висота (b): " << obj.b << endl;
    os << "  Площа (S): " << obj.calculateArea();
    return os;
}

// --- Головна функція для демонстрації ---

int main() {
    // Створення об'єктів (вимога a, b)
    Sandglass s1(5.0, 10.0);    // Конструктор з параметрами
    Sandglass s2(3.0, 6.0);     // Конструктор з параметрами
    Sandglass s3;               // Конструктор без параметра (0, 0)

    cout << "--- Початкові об'єкти ---" << endl;
    cout << "S1: " << s1 << endl;
    cout << "S2: " << s2 << endl;
    cout << "S3: " << s3 << endl;

    // Демонстрація оператора '+' (вимога e)
    cout << "\n--- Оператор '+' (s3 = s1 + s2) ---" << endl;
    s3 = s1 + s2; // Перевантажений оператор +
    cout << "s3 = s1 + s2:" << endl;
    cout << s3 << endl; // Очікувані a=8.0, b=16.0, S=64.0

    // Демонстрація постфіксного '++' (вимога g та 3)
    cout << "\n--- Постфіксний '++' (s3 = s2++) ---" << endl;
    cout << "S2 до: " << s2.getA() << ", " << s2.getB() << endl; // 3.0, 6.0
    s3 = s2++; // s3 отримує старе значення s2, а s2 інкрементується
    cout << "S3 після (старе s2): " << s3.getA() << ", " << s3.getB() << endl; // 3.0, 6.0
    cout << "S2 після (інкремент): " << s2.getA() << ", " << s2.getB() << endl; // 4.0, 7.0

    // Демонстрація префіксного '++' (вимога g та 3)
    cout << "\n--- Префіксний '++' (s3 = ++s2) ---" << endl;
    cout << "S2 до: " << s2.getA() << ", " << s2.getB() << endl; // 4.0, 7.0
    s3 = ++s2; // s2 інкрементується, s3 отримує нове значення s2
    cout << "S2 після (інкремент): " << s2.getA() << ", " << s2.getB() << endl; // 5.0, 8.0
    cout << "S3 після (нове s2): " << s3.getA() << ", " << s3.getB() << endl; // 5.0, 8.0

    return 0;
}